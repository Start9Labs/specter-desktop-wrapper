id: specter 
title: Specter
version: 1.10.3
release-notes: Initial version for EmbassyOS v0.3.1
eos-version: 0.3.1
license: mit
wrapper-repo: https://github.com/Start9Labs/specter-wrapper
upstream-repo: https://github.com/cryptoadvance/specter-desktop
support-site: https://github.com/cryptoadvance/specter-desktop/issues
marketing-site: https://specter.solutions
build: ["make"]
description:
  short: A user-friendly web GUI for Bitcoin Core with a focus on multisignature setup using hardware wallets and airgapped devices.
  long: Bitcoin Core has a very powerful command line interface and a wonderful daemon. Using PSBT and HWI it also works great with hardware wallets, but at the moment this is beyond most users. The same applies to multisignature setups. The goal of this project is to make a convenient and user-friendly GUI around Bitcoin Core with a focus on multisignature setup with hardware wallets and airgapped devices.
assets:
  license: LICENSE
  icon: icon.png
  instructions: instructions.md
  docker-images: image.tar
main:
  type: docker
  image: main
  entrypoint: "docker_entrypoint.sh"
  args: []
  mounts:
    compat: /mnt/assets
    main: /root
    bitcoind: /mnt/bitcoind
  io-format: yaml
health-checks:
  main:
    name: Web Interface
    success-message: The Specter UI is ready to visit in a web browser
    type: docker
    image: main
    entrypoint: check-web.sh
    args: []
    io-format: json
    inject: true
#  synced:
#    name: Bitcoin Synced
#    success-message: Bitcoin is fully indexed.
#    type: docker
#    image: main
#    system: false
#    entrypoint: check-synced.sh
#    args: ["sync"]
#    mounts: {}
#    io-format: json
#    inject: true  
config:
  get:
    type: script
  set:
    type: script
#properties:
#  type: docker
#  image: compat
#  system: true
#  entrypoint: compat
#  args:
#    - properties
#    - /root
#  mounts:
#    main: /root
#  io-format: yaml
volumes:
  main:
    type: data
  compat:
    type: assets
  utils:
    type: assets
  bitcoind:
    type: pointer
    package-id: bitcoind
    volume-id: main
    path: /public
    readonly: false
interfaces:
  main:
    name: Specter Web Interface
    description: Specifies the Specter interface to listen on for HTTP connections.
    tor-config:
      port-mapping:
        80: "25441"
    lan-config:
      443:
        ssl: true
        internal: 25441
    ui: true
    protocols:
      - tcp
      - http
dependencies:
  btc-rpc-proxy:
    version: ">=0.3.2.1 <0.4.0"
    requirement:
      type: "opt-out"
      how: Can alternatively configure proxy or bitcoin core node.
    description: Used for RPC permissioning.
    config:
      check:
        type: docker
        image: compat
        system: true
        entrypoint: compat
        args:
          - dependency
          - check
          - specter
          - "btc-rpc-proxy"
          - /root
          - "/mnt/assets/btc-rpc-proxy_config_rules.yaml"
        mounts:
          main: /root
          compat: /mnt/assets
        io-format: yaml
      auto-configure:
        type: docker
        image: compat
        system: true
        entrypoint: compat
        args:
          - dependency
          - "auto-configure"
          - specter
          - "btc-rpc-proxy"
          - /root
          - "/mnt/assets/btc-rpc-proxy_config_rules.yaml"
        mounts:
          main: /root
          compat: /mnt/assets
        io-format: yaml
  bitcoind:
    version: ">=23.0.0 <24.0.0"
    requirement:
      type: "required"
      how: Can alternatively configure proxy or bitcoin core node.
    description: Used to subscribe to new block events from a full archival node.
    config:
      check: 
        type: script
      auto-configure:
        type: script
backup:
  create:
    type: docker
    image: compat
    system: true 
    entrypoint: compat 
    args: 
      - duplicity
      - create
      - /mnt/backup
      - /root/data
    mounts:
      BACKUP: "/mnt/backup" 
      main: "/root/data"
  restore:
    type: docker
    image: compat
    system: true
    entrypoint: compat
    args:
      - duplicity
      - restore
      - /root/data
      - /mnt/backup
    mounts:
      BACKUP: "/mnt/backup"
      main: "/root/data"
